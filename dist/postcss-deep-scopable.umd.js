!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["postcss-deep-scopable"]=t()}(this,(function(){"use strict";require("postcss");var e=/\/deep\//g,t=/>>>/g,r=/>\s{0,}>\s{0,}>\s{0,}/g,o="::v-deep ";function s(e,t,r){return e.replace(new RegExp(t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"g"),r)}function l(e,t,r){if("[object String]"===Object.prototype.toString.call(t))return s.apply(t,arguments);if("[object Array]"===Object.prototype.toString.call(t))return t.reduce((function(e,t){return s.apply(t,[e,t,r])}),e);throw new TypeError("String type of sel required")}var c=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{postcssPlugin:"postcss-deep-scopable",Once(c,p){p.result,c.walkRules((function(c){var p=c.selector;if(e.test(c.selector))p=c.selector.replace(e,o);else if(t.test(c.selector))p=c.selector.replace(t,o);else if(r.test(c.selector))p=c.selector.replace(r,o);else if(s&&!s.sels&&["[object String]","[object Object]"].includes(Object.prototype.toString.call(s)))p=l.apply(s.sel||s,[c.selector,s.sel||s,o]);else if(s&&("[object Array]"===Object.prototype.toString.call(s)||s.sels&&"[object Array]"===Object.prototype.toString.call(s.sels))){var n;"[object Array]"===Object.prototype.toString.call(s)?n=s:s.sels&&"[object Array]"===Object.prototype.toString.call(s.sels)&&(n=s.sels),n&&(p=l.apply(n,[c.selector,n,o]))}c.selector=p}))}}};return module.exports=c,module.exports.postcss=!0,c}));
