!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("postcss")):"function"==typeof define&&define.amd?define(["postcss"],t):(e=e||self)["postcss-deep-scopable"]=t(e.postcss)}(this,(function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var t=/\/deep\//g,r=/>>>/g,o=/>\s{0,}>\s{0,}>\s{0,}/g,s="::v-deep ";function c(e,t,r){return e.replace(new RegExp(t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"g"),r)}function l(e,t,r){if("[object String]"===Object.prototype.toString.call(t))return c.apply(t,arguments);if("[object Array]"===Object.prototype.toString.call(t))return t.reduce((function(e,t){return c.apply(t,[e,t,r])}),e);throw new TypeError("String type of sel required")}return e.plugin("postcss-deep-scopable",(function(e){return function(c){c.walkRules((function(c){var p=c.selector;if(t.test(c.selector))p=c.selector.replace(t,s);else if(r.test(c.selector))p=c.selector.replace(r,s);else if(o.test(c.selector))p=c.selector.replace(o,s);else if(e&&!e.sels&&["[object String]","[object Object]"].includes(Object.prototype.toString.call(e)))p=l.apply(e.sel||e,[c.selector,e.sel||e,s]);else if(e&&("[object Array]"===Object.prototype.toString.call(e)||e.sels&&"[object Array]"===Object.prototype.toString.call(e.sels))){var n;"[object Array]"===Object.prototype.toString.call(e)?n=e:e.sels&&"[object Array]"===Object.prototype.toString.call(e.sels)&&(n=e.sels),n&&(p=l.apply(n,[c.selector,n,s]))}c.selector=p}))}}))}));
